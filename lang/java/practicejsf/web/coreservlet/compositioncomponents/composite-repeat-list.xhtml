<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:h="http://xmlns.jcp.org/jsf/html"
	  xmlns:mj="http://java.sun.com/jsf/composite/myjsfcomponent"
	  xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
		<meta charset="UTF-8" />
        <title>リピートしながらリスト作成</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
		<style>
			.red {
				color: red;
			}

			.blue {
				color: blue;
			}
		</style>
    </h:head>
    <h:body>
		<header>
			<h1>リピートしながらリスト作成</h1>
		</header>

		<main>
			<fieldset>
				<legend>ui:repeatを使った複合コンポーネント</legend>

				<div>
					<p>第1開発者</p>
					<ul>
						<li>練度:<span>#{programmer1.level}</span></li>
						<li>苗字:<span>#{programmer1.firstName}</span></li>
						<li>名前:<span>#{programmer1.lastName}</span></li>
						<li>経験言語:<span>
								<mj:repeatList value="#{programmer1.languages}" styleClass="blue" />
							</span></li>
					</ul>
				</div>

				<div>
					<p>第2開発者</p>
					<!--
					company1.programmersはListだがFacelestページでは配列のように
					各要素にアクセスすることができる。
					-->
					<c:set var="programmer2" 
						   value="#{company1.programmers[company1.programmers.size() - 1]}" 
						   scope="request" />
					<!-- $ではなく#で始めても変数にアクセスすることができる。 -->
					<p>練度:<span>#{programmer2.level}</span></p>
					<p>苗字:<span>#{programmer2.firstName}</span></p>
					<p>名前:<span>#{programmer2.lastName}</span></p>
					<p><mj:repeatList value="#{programmer2.languages}" styleClass="red" /></p>
				</div>
			</fieldset>
		</main>
    </h:body>
</html>
