<!DOCTYPE html>
<html lang="ja">
	<head>
		<meta charset="UTF-8" />
		<title>Fetch</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="/webcise/esproposal/fetch/fetch.css" />
	</head>
	<body>
		<header>
			<h1>Fetch</h1>
			<p><a href="/webcise/esproposal/">home</a></p>
		</header>
		
		<main>
			<section class="fetch-request-sample">
				<h2>fetch関数で非同期リクエストを行う</h2>
				<div class="result-area"></div>
				<div>
					<button class="load-image">画像読込</button>
				</div>
			</section>
			<section class="headers-request-sample">
				<h2>HeadersでHTTPヘッダーを設定してリクエストを行う</h2>
				<div class="result-area"></div>
				<div>
					<button class="load-image">画像読込</button>
				</div>
			</section>
			<section class="new-request-sample">
				<h2>Requestオブジェクトを作成してリクエストを行う</h2>
				<div class="result-area"></div>
				<div>
					<button class="load-image">画像読込</button>
				</div>
			</section>
			<section class="request-mode-sample">
				<h2>モードを指定してリクエストを行う</h2>
				<p>
					クロスオリジンのリソースをfetch関数でリクエストする際はRequestのmodeにcorsを指定し，<br />
					かつWebサーバが適切にAccess-Control-Allow-Originヘッダを設定していなければならない。
				</p>
				<div>
					<h3>Apache設定例</h3>
					<pre class="sample-code">
&lt;Location /webcise/esproposal/fetch/&gt;
	ProxyPass ajp://127.0.0.1:28009/webcise/esproposal/fetch/ ttl=30
	Header set Access-Control-Allow-Origin https://gfdev
	Header set Access-Control-Allow-Credentials true
&lt;/Location&gt;</pre>
				</div>
				<div class="result-area"></div>
				<div>
					<div class="mode-type-select-panel">
						<label><input name="request-mode" type="radio" value="cors" checked="checked" />cors</label>
						<label><input name="request-mode" type="radio" value="no-cors" />no-cors</label>
						<label><input name="request-mode" type="radio" value="same-origin" />same-origin</label>
						<label><input name="request-mode" type="radio" value="navigate" />navigate</label>
					</div>
					<button class="load-image">画像読込</button>
				</div>
			</section>
		</main>
		
		<aside>
			<p>参考</p>
			<ul>
				<li><a href="https://developer.mozilla.org/en/docs/Web/API/Fetch_API">MDN Fetch API</a></li>
			</ul>
		</aside>
		
		<footer role="contentinfo">
			<small>Copyright &copy; 2016 moguonyanko All rights reserved.</small>
		</footer>
		
		<script src="/webcise/gomakit.js"></script>
		<script src="/webcise/esproposal/fetch/fetch.js"></script>
	</body>
</html>
